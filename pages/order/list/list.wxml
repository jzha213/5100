<view class="container">
  <!-- 订单列表 -->
  <view class="card" wx:if="{{items.length > 0}}">
    <view class="section-title">我的订单</view>
    <view class="order-list">
      <view class="order-item" wx:for="{{items}}" wx:key="id" bindtap="goDetail" data-id="{{item.id}}">
        <!-- 订单头部信息 -->
        <view class="order-header">
          <view class="order-info">
            <text class="order-no">订单号：{{item.order_no}}</text>
            <text class="order-status">{{item.status_display}}</text>
          </view>
          <view class="order-amount">¥{{item.final_amount}}</view>
        </view>
        
        <!-- 商品列表 -->
        <view class="product-list" wx:if="{{item.items && item.items.length > 0}}">
          <view class="product-item" wx:for="{{item.items}}" wx:key="id" wx:for-item="product">
            <image class="product-image" src="{{product.mainImage}}" mode="aspectFit"></image>
            <view class="product-info">
              <text class="product-name">{{product.product_name}}</text>
              <text class="product-sku">SKU: {{product.product_sku}}</text>
              <view class="product-price-quantity">
                <text class="product-price">¥{{product.price}}</text>
                <text class="product-quantity">x{{product.quantity}}</text>
                <text class="product-subtotal">¥{{product.subtotal}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- 订单时间 -->
        <view class="order-time">
          <text class="time-label">下单时间：</text>
          <text class="time-value">{{item.created_at}}</text>
        </view>
      </view>
    </view>
  </view>
  
  <!-- 空状态 -->
  <view class="card" wx:elif="{{!loading && items.length === 0}}">
    <view class="empty-state">
      <text class="empty-text">暂无订单</text>
    </view>
  </view>
  
  <!-- 加载状态 -->
  <view class="card" wx:if="{{loading}}">
    <view class="loading-state">
      <text class="loading-text">加载中...</text>
    </view>
  </view>
</view>

