<view class="container">
  <view class="card" wx:if="{{item}}">
    <!-- 商品图片 -->
    <view class="product-image-section">
      <image class="product-image" src="{{item.mainImage}}" mode="aspectFill"></image>
    </view>
    
    <!-- 商品信息 -->
    <view class="product-info">
      <view class="product-name">{{item.name}}</view>
      <view class="product-price">价格：¥{{item.price}}</view>
      <view class="product-sku" wx:if="{{item.sku}}">SKU：{{item.sku}}</view>
      <view class="product-stock" wx:if="{{item.stock}}">库存：{{item.stock}}件</view>
      <view class="product-description" wx:if="{{item.description}}">{{item.description}}</view>
    </view>
    
    <!-- 操作按钮 -->
    <view class="action-buttons">
      <!-- 已登录用户的操作按钮 -->
      <view wx:if="{{isLoggedIn}}">
        <button class="btn-secondary" bindtap="addToCart">加入购物车</button>
        <button class="btn-primary" bindtap="buyNow">立即购买</button>
      </view>
      
      <!-- 访客模式的操作按钮 -->
      <view wx:else>
        <button class="btn-primary" bindtap="goToLogin">登录后购买</button>
        <button class="btn-secondary" bindtap="goToRegister">注册账号</button>
      </view>
    </view>
  </view>
  
  <!-- 加载状态 -->
  <view class="card" wx:elif="{{loading}}">
    <view class="loading-state">
      <text class="loading-text">加载中...</text>
    </view>
  </view>
  
  <!-- 错误状态 -->
  <view class="card" wx:else>
    <view class="error-state">
      <text class="error-text">商品不存在或加载失败</text>
    </view>
  </view>
</view>

